<i ng-if="!campaigns" class="fa fa-heart-o loading" aria-hidden="true"></i>

<div class="wrapper" ng-if="campaigns">

  <!-- <h1>Browse</h1> -->

  <!-- <div class="status">
    <a ng-model="status" ng-click="status='active'">Active</a>
    <a ng-model="status" ng-click="status='funded'">Funded</a>
    <a ng-model="status" ng-click="status='failed'">Failed</a>
  </div> -->

  <!-- active navigation: popular, almost finished, just started -->
  <!-- add active stuff -->

  <!-- <div ng-repeat="campaign in campaigns | filter:status | filter:search" class="campaigns"> -->
  <div ng-repeat="campaign in campaigns | filter:search" class="campaigns">

    <div class="row">
      <div class="column third left">
        <a href="{{ campaign.unsplash_url }}" target="_blank">
          <img class="profile-image" class="sample-photo" ng-src="{{ campaign.profile_image }}" alt="">
        </a>
        <h2 class="name">{{ campaign.name }}</h2>
        <a href="{{ campaign.unsplash_url }}" target="_blank">
          <p>(@{{ campaign.username }})</p>
        </a>
        <!-- <p ng-if="campaign.badge">{{ campaign.badge }}</p> -->
        <!-- <p>Current Location: {{ campaign.current_location }}</p> -->
        <p>Photos: {{ campaign.total_photos }}</p>
        <p>Downloads: {{ campaign.downloads | number}}</p>
      </div>
      <div class="column third">
        <div class="description">
          <h2 class="location">{{ campaign.location }}</h2>
          <p>{{ campaign.description }}</p>
        </div>
      </div>
      <div class="column third">
        <h2 class="percentage">{{ campaign.raised / campaign.goal * 100 | number:0 }}%</h2>
        <h3 class="percentage-subtext">Funded</h3>
        <h2 class="goal">{{ campaign.raised | currency:undefined:0 }} of {{ campaign.goal | currency:undefined:0 }}</h2>
        <progress max="{{ campaign.goal }}" value="{{ campaign.raised }}"></progress>
        <time>{{ campaign.countdown }} Left</time>

        <!-- <button id="customButton" ng-click="browseCtrl.stripe(campaign)" ng-if="campaign.status == 'active'">Purchase</button> -->

        <button ng-if="!campaign.success" id="customButton" ng-click="browseCtrl.stripe(campaign)" class="stripe">Contribute to {{ campaign.first_name }}'s Campaign</button>

        <p ng-if="campaign.success" class="success">{{ campaign.success }}</p>

      </div>
    </div>

    <div class="row">
      <div class="column third">
        <img class="sample-photo" ng-src="{{ campaign.sample_photo_1 }}" alt="">
      </div>
      <div class="column third">
        <img class="sample-photo" ng-src="{{ campaign.sample_photo_2 }}" alt="">
      </div>
      <div class="column third">
        <img class="sample-photo" ng-src="{{ campaign.sample_photo_3 }}" alt="">
      </div>
    </div>

    <div class="more-link">
      <a href="{{ campaign.unsplash_url }}" target="_blank">See more of {{ campaign.first_name }}'s photos</a>
    </div>


    <!-- view x amount more photos on his unsplash profile, x being number of photos -->

    <!-- use email to have modal form to ask question and contact the photographer -->
  </div>

</div>
